apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'application'
apply plugin: "jacoco" // Jacoco Code Coverage

repositories {
    mavenCentral()
}

dependencies {
    // compile "joda-time:joda-time:2.2"
    testCompile "junit:junit:4.12"
}

mainClassName = 'com.moc.chitchat.Main'

sourceSets.main.java.srcDirs = ['src']
sourceSets.test.java.srcDirs = ['test']

jar {
    manifest {
        attributes(
            'Class-Path': configurations.compile.collect { it.getName() }.join(' '),
            'Main-Class': 'com.moc.chitchat.Main'
        )
    }
}

test {
    afterTest { desc, result ->
        println "Executing test ${desc.name} [${desc.className}] with result: ${result.resultType}"
    }
}

jacoco {
    toolVersion = "0.7.8"
    reportsDir = file("$buildDir/JacocoCoverageReport")
}
